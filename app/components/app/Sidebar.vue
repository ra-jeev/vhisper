<template>
  <div
    class="h-screen flex-col w-full shrink-0 border-r border-gray-200 dark:border-gray-800"
  >
    <div class="flex items-center justify-between px-4 h-14">
      <AppLogo />
      <UButton
        icon="i-lucide-x"
        color="neutral"
        variant="ghost"
        class="md:hidden"
        @click="$emit('hideDrawer')"
      />
    </div>

    <UNavigationMenu
      class="p-4"
      color="neutral"
      orientation="vertical"
      :items="links"
    />

    <div class="flex-1" />

    <div class="px-4 pb-8">
      <UButton
        block
        color="neutral"
        icon="i-lucide-log-out"
        variant="outline"
        @click="clear"
      >
        Sign out
      </UButton>
    </div>
  </div>
</template>

<script setup lang="ts">
defineProps<{
  links: { label: string; icon: string; to: string; onSelect?: () => void }[];
}>();

defineEmits(["hideDrawer"]);

const { clear } = useUserSession();
</script>
